(function($){"use strict";function init(){var instance=this;var pluginEnabled=!!(instance.getSettings().removeRowPlugin);if(pluginEnabled){bindMouseEvents();instance.rootElement.addClass('htRemoveRow');}else{unbindMouseEvents();instance.rootElement.removeClass('htRemoveRow');}
function bindMouseEvents(){instance.rootElement.on('mouseover.removeRow','tbody th, tbody td',function(){getButton(this).show();});instance.rootElement.on('mouseout.removeRow','tbody th, tbody td',function(){getButton(this).hide();});}
function unbindMouseEvents(){instance.rootElement.off('mouseover.removeRow');instance.rootElement.off('mouseout.removeRow');}
function getButton(td){return jQuery(td).parent('tr').find('th.htRemoveRow').eq(0).find('.am-data-remove-row');}}
Handsontable.PluginHooks.add('beforeInitWalkontable',function(walkontableConfig){var instance=this;var baseRowHeaders=walkontableConfig.rowHeaders;walkontableConfig.rowHeaders=function(){var pluginEnabled=Boolean(instance.getSettings().removeRowPlugin);var newRowHeader=function(row,elem){var child,div;while(child=elem.lastChild){elem.removeChild(child);}
elem.className='htNoFrame htRemoveRow';if(row>-1){div=document.createElement('i');div.className='am-data-remove-row am am-remove';elem.appendChild(div);jQuery(div).on('mouseup',function(){instance.alter("remove_row",row);});}};return pluginEnabled?Array.prototype.concat.call([],newRowHeader,baseRowHeaders()):baseRowHeaders();};});Handsontable.PluginHooks.add('beforeInit',function(){init.call(this)});Handsontable.PluginHooks.add('afterUpdateSettings',function(){init.call(this)});})(jQuery);